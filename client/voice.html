<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Voice Mode - Hologram Assistant</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <a href="index1.html" class="btn-back">‚Üê PORTAL</a>

    <div
      class="status-bar"
      style="border: none; position: absolute; width: 100%; z-index: 10"
    >
      <div class="title">VOICE MODE</div>
      <div class="ws-status">
        <span id="ws-indicator" class="status-indicator"></span>
        <span id="ws-text">...</span>
      </div>
    </div>

    <div class="voice-container">
      <button id="mic-btn" type="button" class="mic-button glass-panel">
        <span id="mic-icon">üé§</span>
        <div class="pulse-ring"></div>
      </button>

      <div id="voice-status" class="voice-status">IDLE</div>
      <div id="voice-text" class="voice-text">Try saying "Hello"</div>
    </div>
    <div class="debug-panel glass-panel">
      <div class="debug-title">DEBUG</div>
      <pre id="debug-log">Waiting for events...</pre>
    </div>

    <script src="js/core.js"></script>
    <script src="js/voice.js"></script>
    <script>
      // Init mode
      AppState.setMode("VOICE");
      wsManager.sendMode("VOICE");

      // Status bar update
      AppState.subscribe((state) => {
        const indicator = document.getElementById("ws-indicator");
        const statusText = document.getElementById("ws-text");
        indicator.className =
          "status-indicator " + state.wsStatus.toLowerCase();
        statusText.textContent = state.wsStatus;
      });
    </script>
  </body>
</html>
