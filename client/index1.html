<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hologram Assistant - Portal</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="status-bar glass-panel">
        <div class="title">HOLOGRAM ASSISTANT</div>
        <div class="ws-status">
            <span id="ws-indicator" class="status-indicator"></span>
            <span id="ws-text">CONNECTING...</span>
        </div>
    </div>

    <div class="portal">
        <h1>Select Interface Mode</h1>
        <div class="mode-cards">
            <a href="index.html" class="mode-card glass-panel" onclick="setMode('VISION')">
                <div class="icon">üëÅÔ∏è</div>
                <h2>VISION</h2>
                <p>Gesture-controlled interface with real-time camera processing.</p>
            </a>
            <a href="voice.html" class="mode-card glass-panel" onclick="setMode('VOICE')">
                <div class="icon">üé§</div>
                <h2>VOICE</h2>
                <p>Voice-activated assistant with high-fidelity speech pipeline.</p>
            </a>
        </div>
    </div>

    <script src="js/core.js"></script>
    <script>
        // Local mode setting helper
        function setMode(mode) {
            AppState.setMode(mode);
            wsManager.sendMode(mode);
        }

        // Subscribe to state for status bar
        AppState.subscribe(state => {
            const indicator = document.getElementById('ws-indicator');
            const statusText = document.getElementById('ws-text');
            
            indicator.className = 'status-indicator ' + state.wsStatus.toLowerCase();
            statusText.textContent = state.wsStatus;
        });
    </script>
</body>
</html>
